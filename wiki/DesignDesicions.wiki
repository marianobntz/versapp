#summary Record of the design decisions made for this app.
#labels Phase-Design,Featured

= Sitemap =

The sitemap is part of the framework, and each route defines an *in_sitemap* attribute, plus a *sitemap_args* used to retrieve the list of arguments used to build the sitemap uris.

= Response Headers =

For simplicity we decided to use *eTag* as the validator and *max-age* as the refresh information. 

We discarded _Last-Modified_ because it would force us to keep the date for every page, plus the variations of language, etc. 
We discarded _Expires_ because it is simpler to just include the seconds, than calculate every time.

Each route defines the cache control directive, plus a default value is set.

= Multi-Language support =

it is based on the server host, the _HTTP_X_APPENGINE_COUNTRY_ environment var,  a cookie or a query param.

= Canonical URIs =

It is a good practice to include the rel="canonical" header, but we need to know the canonical network location, so we decided to accept the *_canonical_netloc* config parameter, and enhance the _uri_for_ method to accept the *_canonical* argument to use that network location.

= Jinja = 

*trim_blocks* to remove new lines